(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[755],{9403:function(t,e,i){Promise.resolve().then(i.bind(i,4166))},4166:function(t,e,i){"use strict";i.d(e,{default:function(){return a}});var n=i(7437),c=i(2265),o=i(8472);class s{static getID(t){return new Promise((e,i)=>{(0,o.Z)({method:"get",baseURL:this.ID_URL,url:"",params:{email:t}}).then(t=>{e(t.data)}).catch(t=>{i(t)})})}static getComic(t){return new Promise((e,i)=>{(0,o.Z)({method:"get",baseURL:this.COMIC_URL,url:"",params:{id:t}}).then(t=>{e(t.data)}).catch(t=>{i(t)})})}}function a(){let[t,e]=(0,c.useState)(""),[i,o]=(0,c.useState)(0);return(0,n.jsxs)("div",{children:[(0,n.jsxs)("form",{children:[(0,n.jsx)("label",{children:"Email:"}),(0,n.jsx)("input",{id:"email",placeholder:"i.ivanov@innopolis.university",onChange:t=>e(t.target.value)}),(0,n.jsx)("button",{type:"button",id:"comic-button",onClick:()=>{s.getID(t).then(t=>{o(t)}).catch(t=>{console.log(t)}),s.getComic(i).then(t=>{document.getElementById("comic-image").setAttribute("src",t.img),document.getElementById("comic-title").textContent=t.safe_title,document.getElementById("comic-date").textContent=new Date(t.year,t.month-1,t.day).toLocaleDateString()}).catch(t=>{console.log(t)})},children:"Get Comic"})]}),(0,n.jsx)("img",{id:"comic-image",src:"",alt:"Comic"}),(0,n.jsx)("h2",{id:"comic-title"}),(0,n.jsx)("p",{id:"comic-date"})]})}s.ID_URL="https://fwd.innopolis.university/api/hw2",s.COMIC_URL="https://fwd.innopolis.university/api/comic"}},function(t){t.O(0,[472,971,23,744],function(){return t(t.s=9403)}),_N_E=t.O()}]);